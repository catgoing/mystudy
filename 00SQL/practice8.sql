--TABLE 을 작성하라
--TEAM : 팀 아이디 , 지역 , 팀 명 , 개설 날짜 , 전화번호 , 홈페이지
--PLAYER : 선수번호 , 선수 명 , 등록일 , 포지션 , 키 , 팀 아이디
-- 외래키로 연결한다
--TEAM 두개만 등록하라
--두 개의 TEAM 에 선수를 각각 3 명씩 등록하라 .
CREATE TABLE TEAM(
    TEAM_ID NUMBER(10) CONSTRAINT PK_TEST PRIMARY KEY,
    TEAM_LOC VARCHAR2(10) NOT NULL, 
    TEAM_NAME VARCHAR2(10) NOT NULL, 
    FOUNDDATE DATE NOT NULL, 
    PHONENUM VARCHAR2(20) NOT NULL, 
    HOMEPAGE VARCHAR2(10)  NOT NULL
    );
    
ALTER TABLE TEAM
MODIFY
PHONENUM VARCHAR2(20);

INSERT INTO TEAM(TEAM_ID, TEAM_LOC, TEAM_NAME, FOUNDDATE, PHONENUM, HOMEPAGE)
VALUES('1', 'SEOUL', 'DDE', '20/08/01', '010-5555-6666', 'GOOGLE.COM');

INSERT INTO TEAM(TEAM_ID, TEAM_LOC, TEAM_NAME, FOUNDDATE, PHONENUM, HOMEPAGE)
VALUES('2', 'PUSAN', 'IOIO', '20/12/11', '010-3331-2222', 'NAVER.COM');

SELECT
    *
FROM TEAM;

CREATE TABLE PLAYER(
    PLAYER_ID NUMBER(10) UNIQUE,
    PLAYER_NAME VARCHAR2(20) NOT NULL, 
    JOINDATE DATE NOT NULL, 
    P_POSITION VARCHAR2(20) NOT NULL, 
    PLAYER_HEIGHT NUMBER(10) NOT NULL, 
    TEAM_ID NUMBER(10),
    CONSTRAINT TEAM FOREIGN KEY(TEAM_ID) REFERENCES TEAM(TEAM_ID)
    );

INSERT INTO PLAYER(PLAYER_ID, PLAYER_NAME, JOINDATE, P_POSITION, PLAYER_HEIGHT, TEAM_ID)
VALUES('001', 'AA' , '19/01/03' , 'KEEPER' , '180.2' , '1');

INSERT INTO PLAYER(PLAYER_ID, PLAYER_NAME, JOINDATE, P_POSITION, PLAYER_HEIGHT, TEAM_ID)
VALUES('002', 'BB' , '19/02/03' , 'ATTACK' , '188.2' , '1');

INSERT INTO PLAYER(PLAYER_ID, PLAYER_NAME, JOINDATE, P_POSITION, PLAYER_HEIGHT, TEAM_ID)
VALUES('003', 'CC' , '19/03/03' , 'DEPENSE' , '190.2' , '1');

INSERT INTO PLAYER(PLAYER_ID, PLAYER_NAME, JOINDATE, P_POSITION, PLAYER_HEIGHT, TEAM_ID)
VALUES('004', 'DD' , '18/01/03' , 'KEEPER' , '180.2' , '2');
INSERT INTO PLAYER(PLAYER_ID, PLAYER_NAME, JOINDATE, P_POSITION, PLAYER_HEIGHT, TEAM_ID)
VALUES('005', 'FF' , '17/01/03' , 'ATTACK' , '180.2' , '2');
INSERT INTO PLAYER(PLAYER_ID, PLAYER_NAME, JOINDATE, P_POSITION, PLAYER_HEIGHT, TEAM_ID)
VALUES('006', 'EE' , '16/01/03' , 'DEPENSE' , '180.2' , '2');

SELECT
    *
FROM PLAYER;

SELECT p.player_name, p.team_id
FROM TEAM T, PLAYER P
WHERE t.team_id = p.team_id
    AND t.team_id = 2;

/*DROP TABLE PLAYER
CASCADE CONSTRAINTS;*/

--TABLE 을 작성하라
--PRODUCT( 상품 ) : 상품번호 , 상품명 , 상품가격 , 상품설명
--CONSUMER( 소비자 ) : 소비자 ID, 이름 , 나이
--CART( 장바구니 ) : 장바구니 번호 , 소비자 ID, 상품번호 , 수량
-- 외래키로 연결한다
--상품을 3 개만 등록 하라
--두 명의 소비자를 등록하라 .
--소비자의 장바구니에 상품 추가하라

CREATE TABLE PRODUCT(
    PDNUM NUMBER(10) PRIMARY KEY,
    PDNAME VARCHAR2(20),
    PDPRICE NUMBER(10),
    PDEXPLAIN VARCHAR(20)
);

INSERT INTO PRODUCT(PDNUM, PDNAME, PDPRICE, PDEXPLAIN)
VALUES('01', 'A', '1000', 'A-1');
INSERT INTO PRODUCT(PDNUM, PDNAME, PDPRICE, PDEXPLAIN)
VALUES('02', 'B', '2000', 'B-1');
INSERT INTO PRODUCT(PDNUM, PDNAME, PDPRICE, PDEXPLAIN)
VALUES('03', 'C', '3000', 'C-1');

CREATE TABLE CONSUMER(
    CSNUM NUMBER(10) PRIMARY KEY,
    CSNAME VARCHAR2(20),
    CSAGE NUMBER(10)

);

INSERT INTO CONSUMER(CSNUM, CSNAME, CSAGE)
VALUES('001', 'CS1', '17');
INSERT INTO CONSUMER(CSNUM, CSNAME, CSAGE)
VALUES('002', 'CS2', '37');


CREATE TABLE CART(
    CTNUM NUMBER(10),
    CTCOUNT NUMBER(10),
    CSNUM NUMBER(10),
    CONSTRAINT CS_NUM FOREIGN KEY (CSNUM) REFERENCES CONSUMER(CSNUM),
    PDNUM NUMBER(10),
    CONSTRAINT PD_NUM FOREIGN KEY (PDNUM) REFERENCES PRODUCT(PDNUM)

);

INSERT INTO CART(CTNUM, CTCOUNT, CSNUM, PDNUM)
VALUES('0001', '10', '001', '01');
INSERT INTO CART(CTNUM, CTCOUNT, CSNUM, PDNUM)
VALUES('0002', '20', '002', '03');

SELECT
    *
FROM PRODUCT P, consumer C, cart CT
WHERE p.pdnum = ct.pdnum
    AND c.csnum = ct.csnum;